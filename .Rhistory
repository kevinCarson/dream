base::stop("Error: There are no sampled events based upon the 'observed' input. Stopping computation! Please update this argument.") # stop computation and tell the user
}
if(typeof(time) != "double"){
base::stop("Error: The 'time' argument is not a numeric value. Stopping computation! Please update this argument.") # stop computation and tell the user
}
########################################################
#
#   Prepping the data to be sent to c++ for speedy computation
#
########################################################
appender <- "__NIKOACAR2020__" # a (hopefully) unique joiner for the string!
dyad.idR <- (base::paste0(sender,appender,receiver)) #this is arguably very inefficent at scale
weightSchemeR <- ifelse(Lerneretal_2013, 0, 1) #setting this argument up for c++ computation
countsR <- ifelse(counts, 1, 0) #setting this argument up for c++ computation
controlR <- 1- observed #making it such that dummy events have a 1 and real events have a value of 0
########################################################
#
#   Computing the weights in c++
#
########################################################
weights <- computeREMweightsv1(time = time,
sampledevent = sampled,
controlevent = controlR,
cutweight = dyadic_weight,
halflife = halflife,
dyad_id = dyad.idR,
weightScheme = weightSchemeR,
counts = countsR) #if the value is false then
########################################################
#
#   Returning the values back to the user
#
########################################################
return(weights)# return the vector of values
}
postprocessing$repetition <- computeRepetition(
time = EventSet1$time,
sender = EventSet1$sender,
receiver = EventSet1$receiver,
sampled = EventSet1$sampled,
observed = EventSet1$observed,
halflife = 2.592e+09, #halflife parameter
dyadic_weight = 0.01,
Lerneretal_2013 = FALSE)
devtools::load_all()
devtools::document()
devtools::check()
devtools::install()
devtools::build()
devtools::build_manual()
?  switch()
devtools::load_all()
devtools::document()
devtools::check()
devtools::load_all()
devtools::document()
devtools::check()
devtools::load_all()
devtools::document()
devtools::check()
devtools::load_all()
devtools::document()
devtools::check()
devtools::load_all()
devtools::document()
devtools::check()
devtools::install()
devtools::build()
devtools::build_manual()
devtools::load_all()
devtools::document()
devtools::check()
devtools::document()
devtools::install()
devtools::build()
devtools::build_manual()
?rem::triad
devtools::load_all()
devtools::document()
devtools::check()
type = "OSP"
length(type)
type
length(type)
devtools::load_all()
devtools::document()
devtools::document()
devtools::check()
devtools::install()
devtools::build()
devtools::build_manual()
devtools::build_manual()
devtools::build_manual()
devtools::load_all()
devtools::document()
devtools::check()
devtools::load_all()
devtools::document()
devtools::check()
devtools::install()
devtools::build()
devtools::build_manual()
devtools::build()
devtools::build_manual()
rem::degreeStat
devtools::load_all()
devtools::document()
devtools::check()
devtools::load_all()
devtools::document()
devtools::check()
devtools::load_all()
devtools::document()
devtools::check()
devtools::load_all()
devtools::document()
devtools::check()
devtools::install()
devtools::build()
devtools::build_manual()
library(dream)
?dream::degreestats()
events <- data.frame(time = 1:18, eventID = 1:18,
sender = c("A", "B", "C",
"A", "D", "E",
"F", "B", "A",
"F", "D", "B",
"G", "B", "D",
"H", "A", "D"),
target = c("B", "C", "D",
"E", "A", "F",
"D", "A", "C",
"G", "B", "C",
"H", "J", "A",
"F", "C", "B"))
eventSet <- createriskset(type = "one-mode",
time = events$time,
eventID = events$eventID,
sender = events$sender,
receiver = events$target,
p_samplingobserved = 1.00,
n_controls = 1,
seed = 9999)
# Computing Sender Indegree Statistic
eventSet$senderind <- degreestats(
formation = "sender-indegree",
time = as.numeric(eventSet$time),
observed = eventSet$observed,
sampled = rep(1,nrow(eventSet)),
sender = eventSet$sender,
receiver = eventSet$receiver,
halflife = 2, #halflife parameter
dyadic_weight = 0,
Lerneretal_2013 = FALSE)
# Computing Sender Outdegree Statistic
eventSet$senderout <- degreestats(
formation = "sender-outdegree",
time = as.numeric(eventSet$time),
observed = eventSet$observed,
sampled = rep(1,nrow(eventSet)),
sender = eventSet$sender,
receiver = eventSet$receiver,
halflife = 2, #halflife parameter
dyadic_weight = 0,
Lerneretal_2013 = FALSE)
# Computing Receiver Outdegree Statistic
eventSet$recieverout <- degreestats(
formation = "receiver-outdegree",
time = as.numeric(eventSet$time),
observed = eventSet$observed,
sampled = rep(1,nrow(eventSet)),
sender = eventSet$sender,
receiver = eventSet$receiver,
halflife = 2, #halflife parameter
dyadic_weight = 0,
Lerneretal_2013 = FALSE)
# Computing Receiver Indegree Statistic
eventSet$recieverind <- degreestats(
formation = "receiver-indegree",
time = as.numeric(eventSet$time),
observed = eventSet$observed,
sampled = rep(1,nrow(eventSet)),
sender = eventSet$sender,
receiver = eventSet$receiver,
halflife = 2, #halflife parameter
dyadic_weight = 0,
Lerneretal_2013 = FALSE)
eventSet
expr1 <- function(){events <- data.frame(time = 1:18, eventID = 1:18,
sender = c("A", "B", "C",
"A", "D", "E",
"F", "B", "A",
"F", "D", "B",
"G", "B", "D",
"H", "A", "D"),
target = c("B", "C", "D",
"E", "A", "F",
"D", "A", "C",
"G", "B", "C",
"H", "J", "A",
"F", "C", "B"))
eventSet <- createriskset(type = "one-mode",
time = events$time,
eventID = events$eventID,
sender = events$sender,
receiver = events$target,
p_samplingobserved = 1.00,
n_controls = 1,
seed = 9999)
# Computing Sender Indegree Statistic
eventSet$senderind <- degreestats(
formation = "sender-indegree",
time = as.numeric(eventSet$time),
observed = eventSet$observed,
sampled = rep(1,nrow(eventSet)),
sender = eventSet$sender,
receiver = eventSet$receiver,
halflife = 2, #halflife parameter
dyadic_weight = 0,
Lerneretal_2013 = FALSE)
# Computing Sender Outdegree Statistic
eventSet$senderout <- degreestats(
formation = "sender-outdegree",
time = as.numeric(eventSet$time),
observed = eventSet$observed,
sampled = rep(1,nrow(eventSet)),
sender = eventSet$sender,
receiver = eventSet$receiver,
halflife = 2, #halflife parameter
dyadic_weight = 0,
Lerneretal_2013 = FALSE)
# Computing Receiver Outdegree Statistic
eventSet$recieverout <- degreestats(
formation = "receiver-outdegree",
time = as.numeric(eventSet$time),
observed = eventSet$observed,
sampled = rep(1,nrow(eventSet)),
sender = eventSet$sender,
receiver = eventSet$receiver,
halflife = 2, #halflife parameter
dyadic_weight = 0,
Lerneretal_2013 = FALSE)
# Computing Receiver Indegree Statistic
eventSet$recieverind <- degreestats(
formation = "receiver-indegree",
time = as.numeric(eventSet$time),
observed = eventSet$observed,
sampled = rep(1,nrow(eventSet)),
sender = eventSet$sender,
receiver = eventSet$receiver,
halflife = 2, #halflife parameter
dyadic_weight = 0,
Lerneretal_2013 = FALSE)}
expr
expr1()
expr1 <- function(){events <- data.frame(time = 1:18, eventID = 1:18,
sender = c("A", "B", "C",
"A", "D", "E",
"F", "B", "A",
"F", "D", "B",
"G", "B", "D",
"H", "A", "D"),
target = c("B", "C", "D",
"E", "A", "F",
"D", "A", "C",
"G", "B", "C",
"H", "J", "A",
"F", "C", "B"))
eventSet <- createriskset(type = "one-mode",
time = events$time,
eventID = events$eventID,
sender = events$sender,
receiver = events$target,
p_samplingobserved = 1.00,
n_controls = 1,
seed = 9999)
# Computing Sender Indegree Statistic
eventSet$senderind <- degreestats(
formation = "sender-indegree",
time = as.numeric(eventSet$time),
observed = eventSet$observed,
sampled = rep(1,nrow(eventSet)),
sender = eventSet$sender,
receiver = eventSet$receiver,
halflife = 2, #halflife parameter
dyadic_weight = 0,
Lerneretal_2013 = FALSE)
# Computing Sender Outdegree Statistic
eventSet$senderout <- degreestats(
formation = "sender-outdegree",
time = as.numeric(eventSet$time),
observed = eventSet$observed,
sampled = rep(1,nrow(eventSet)),
sender = eventSet$sender,
receiver = eventSet$receiver,
halflife = 2, #halflife parameter
dyadic_weight = 0,
Lerneretal_2013 = FALSE)
# Computing Receiver Outdegree Statistic
eventSet$recieverout <- degreestats(
formation = "receiver-outdegree",
time = as.numeric(eventSet$time),
observed = eventSet$observed,
sampled = rep(1,nrow(eventSet)),
sender = eventSet$sender,
receiver = eventSet$receiver,
halflife = 2, #halflife parameter
dyadic_weight = 0,
Lerneretal_2013 = FALSE)
# Computing Receiver Indegree Statistic
eventSet$recieverind <- degreestats(
formation = "receiver-indegree",
time = as.numeric(eventSet$time),
observed = eventSet$observed,
sampled = rep(1,nrow(eventSet)),
sender = eventSet$sender,
receiver = eventSet$receiver,
halflife = 2, #halflife parameter
dyadic_weight = 0,
Lerneretal_2013 = FALSE); return(eventSet)}
expr1()
microbenchmark::microbenchmark(
t1={expr1()},
times = 50L
)
expr1 <- function(){events <- data.frame(time = 1:18, eventID = 1:18,
sender = c("A", "B", "C",
"A", "D", "E",
"F", "B", "A",
"F", "D", "B",
"G", "B", "D",
"H", "A", "D"),
target = c("B", "C", "D",
"E", "A", "F",
"D", "A", "C",
"G", "B", "C",
"H", "J", "A",
"F", "C", "B"))
eventSet <- createriskset(type = "one-mode",
time = events$time,
eventID = events$eventID,
sender = events$sender,
receiver = events$target,
p_samplingobserved = 1.00,
n_controls = 5,
seed = 9999)
# Computing Sender Indegree Statistic
eventSet$senderind <- degreestats(
formation = "sender-indegree",
time = as.numeric(eventSet$time),
observed = eventSet$observed,
sampled = rep(1,nrow(eventSet)),
sender = eventSet$sender,
receiver = eventSet$receiver,
halflife = 2, #halflife parameter
dyadic_weight = 0,
Lerneretal_2013 = FALSE)
# Computing Sender Outdegree Statistic
eventSet$senderout <- degreestats(
formation = "sender-outdegree",
time = as.numeric(eventSet$time),
observed = eventSet$observed,
sampled = rep(1,nrow(eventSet)),
sender = eventSet$sender,
receiver = eventSet$receiver,
halflife = 2, #halflife parameter
dyadic_weight = 0,
Lerneretal_2013 = FALSE)
# Computing Receiver Outdegree Statistic
eventSet$recieverout <- degreestats(
formation = "receiver-outdegree",
time = as.numeric(eventSet$time),
observed = eventSet$observed,
sampled = rep(1,nrow(eventSet)),
sender = eventSet$sender,
receiver = eventSet$receiver,
halflife = 2, #halflife parameter
dyadic_weight = 0,
Lerneretal_2013 = FALSE)
# Computing Receiver Indegree Statistic
eventSet$recieverind <- degreestats(
formation = "receiver-indegree",
time = as.numeric(eventSet$time),
observed = eventSet$observed,
sampled = rep(1,nrow(eventSet)),
sender = eventSet$sender,
receiver = eventSet$receiver,
halflife = 2, #halflife parameter
dyadic_weight = 0,
Lerneretal_2013 = FALSE); return(eventSet)}
eventSet
expr1()
tail(expr1(),10)
microbenchmark::microbenchmark(
t1={expr1()},
times = 50L
)
expr1 <- function(){events <- data.frame(time = 1:18, eventID = 1:18,
sender = c("A", "B", "C",
"A", "D", "E",
"F", "B", "A",
"F", "D", "B",
"G", "B", "D",
"H", "A", "D"),
target = c("B", "C", "D",
"E", "A", "F",
"D", "A", "C",
"G", "B", "C",
"H", "J", "A",
"F", "C", "B"))
eventSet <- createriskset(type = "one-mode",
time = events$time,
eventID = events$eventID,
sender = events$sender,
receiver = events$target,
p_samplingobserved = 1.00,
n_controls = 10,
seed = 9999)
# Computing Sender Indegree Statistic
eventSet$senderind <- degreestats(
formation = "sender-indegree",
time = as.numeric(eventSet$time),
observed = eventSet$observed,
sampled = rep(1,nrow(eventSet)),
sender = eventSet$sender,
receiver = eventSet$receiver,
halflife = 2, #halflife parameter
dyadic_weight = 0,
Lerneretal_2013 = FALSE)
# Computing Sender Outdegree Statistic
eventSet$senderout <- degreestats(
formation = "sender-outdegree",
time = as.numeric(eventSet$time),
observed = eventSet$observed,
sampled = rep(1,nrow(eventSet)),
sender = eventSet$sender,
receiver = eventSet$receiver,
halflife = 2, #halflife parameter
dyadic_weight = 0,
Lerneretal_2013 = FALSE)
# Computing Receiver Outdegree Statistic
eventSet$recieverout <- degreestats(
formation = "receiver-outdegree",
time = as.numeric(eventSet$time),
observed = eventSet$observed,
sampled = rep(1,nrow(eventSet)),
sender = eventSet$sender,
receiver = eventSet$receiver,
halflife = 2, #halflife parameter
dyadic_weight = 0,
Lerneretal_2013 = FALSE)
# Computing Receiver Indegree Statistic
eventSet$recieverind <- degreestats(
formation = "receiver-indegree",
time = as.numeric(eventSet$time),
observed = eventSet$observed,
sampled = rep(1,nrow(eventSet)),
sender = eventSet$sender,
receiver = eventSet$receiver,
halflife = 2, #halflife parameter
dyadic_weight = 0,
Lerneretal_2013 = FALSE); return(eventSet)}
microbenchmark::microbenchmark(
t1={expr1()},
times = 50L
)
expr1()
View(expr1())
devtools::load_all()
devtools::document()
devtools::check()
devtools::install()
devtools::build()
devtools::build_manual()
library(ergMargins)
install.packages("ergMargins")
help(package="ergMargins")
usethis::use_version()
tidyr::nest_legacy()
?tidyr::nest_legacy()
library(tidyr)
df <- tibble(x = c(1, 1, 2), y = 3:1)
df %>% nest_legacy(y)
library(dream)
help(package="dream")
devtools::load_all()
devtools::document()
devtools::check()
devtools::load_all()
devtools::document()
devtools::check()
devtools::load_all()
devtools::document()
devtools::check()
devtools::install()
devtools::build()
devtools::build_manual()
devtools::check_win_devel()
library(dream)
?dream::`dream-package`
usethis::use_news_md()
devtools::load_all()
devtools::document()
devtools::check()
devtools::install()
devtools::build()
devtools::build_manual()
devtools::load_all()
devtools::build_manual()
devtools::check_win_devel()
library(dream)
help(package="dream")
